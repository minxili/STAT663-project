---
title: "Visualizing Two Decades of U.S. Air Pollution (2000–2023)"
subtitle: "Course: STAT 663 – Statistical Graphics and Data Visualization"
author: "Team: Siyao Huang & Minxi Li"
format:
  revealjs:
    center: true
editor: visual
code-line-numbers: false
header-includes: |
  <style>
  .reveal h1, .reveal h2 {
    background-color: #4DB6E3; 
    color: #000000;           
    padding: 6px 12px;
    border-radius: 6px;
    text-align: center;
    font-size: 1.2em !important; 
    font-family: "Times New Roman", Georgia, serif;
    font-weight: normal; 
    white-space: normal; 
    line-height: 1.2;
  }

  .reveal .slides section .smaller {
    font-size: 0.7em;  
    line-height: 1.3;
  }

  .accent-red {
    color: red;
    font-weight: bold;
  }

  .facet-box {
    background-color: #f5f5f5;
    border: 1px solid #1E88E5;
    border-radius: 6px;
    padding: 12px 15px;
    margin-top: 0.3em;
  }

  .facet-title {
    background-color: #1E88E5;
    color: #fff;
    font-weight: bold;
    text-align: center;
    padding: 4px 8px;
    border-radius: 4px;
    margin-bottom: 8px;
  }
  </style>
---

# Dataset

::: smaller
-   Data come from the **U.S. Pollution Dataset (2000–2022)** available on Kaggle

-   This dataset is compiled from the U.S. EPA Air Quality System (AQS), which provides daily measurements of major air pollutants from monitoring stations across the United States.

-   For this project, the daily measurements are aggregated into **state-level annual averages** from 2000 to 2023.

-   The dataset includes four major pollutants:

    -   **O₃** (Ozone)
    -   **CO** (Carbon Monoxide)
    -   **SO₂** (Sulfur Dioxide)
    -   **NO₂** (Nitrogen Dioxide)
:::

# Dataset

::: center
![](pollutat_v4_files/figure-html/unnamed-chunk-4-1.png)
:::

# Research Question & Why It Matters

::: smaller
-   **Main Research Question**:

    -   How has U.S. air quality changed from 2000 to 2023 across time, regions, and pollutants?

-   **Sub-questions**:

    -   How do pollutant levels change over time?
    -   Which states or region are more polluted or cleaner?
    -   How do the four pollutants differ in behavior?

-   **Why This Problem Matters**

    -   Air pollution is directly linked to respiratory and cardiovascular risks.
    -   Long-term pollution trends help evaluate: Environmental policies (e.g., Clean Air Act), Regional inequalities and Public-health impacts.
    -   Understanding historical patterns supports better future planning and policy design.
:::

# Data Wrangling & Processing

::: smaller
-   **Main Cleaning Steps**
    -   Standardized column names and parsed dates
    -   Extracted temporal features (`year`, `month`) for trend and seasonality analysis
    -   Removed invalid or negative pollutant values
    -   Ensured data quality by checking pollutant coverage across states and years
    -   Filtered out states with insufficient long-term coverage\
    -   Excluded incomplete year 2023
    -   Merged with state-abbreviation lookup for mapping
-   **Major Challenges**
    -   Missing pollutant values in early years\
    -   Uneven monitoring coverage across states\
    -   Aligning daily observations with state-level annual summaries\
    -   Large dataset (\~665k rows) requiring efficient processing
:::

# Analytical Methods Used

::: smaller
-   Exploratory Data Analysis (EDA / Temporal Trends)
    -   Computed annual & monthly averages for four pollutants
    -   Identified long-term trends and seasonality patterns
-   Geospatial Analysis
    -   Animated maps to visualize year-to-year changes
    -   State-level choropleth maps
    -   Regional comparisons via boxplots
-   Correlation Analysis
    -   Spearman correlation matrix to study relationships among pollutants
-   Dimensionality Reduction (PCA)
    -   PCA to summarize the multi-pollutant burden
    -   Mapped PC1/PC2 to reveal spatial patterns and pollutant composition differences
-   Time-Series Decomposition
    -   STL decomposition for pollutants to separate trend, seasonal, and remainder components
:::

# Section A. Long-Term Trend Analysis (2000–2023)

# Temporal analysis

```{r}
library(tidyverse)
library(lubridate)
library(janitor)
library(dplyr)
library(tidyr)
library(ggplot2)
library(plotly)
library(patchwork)
```

```{r}
df <- read_csv("pollution_2000_2023.csv") %>%
  clean_names()

df <- df %>%
  mutate(
    date = ymd(date),
    year = year(date),
    month = month(date, label = TRUE)
  )

df <- df %>%
  filter(
    o3_mean  >= 0,
    no2_mean >= 0,
    so2_mean >= 0,
    co_mean  >= 0
  )

df <- df %>%
  mutate(
    O3_valid  = o3_mean  != 0,
    NO2_valid = no2_mean != 0
  )


coverage_days <- df %>%
  group_by(state, year) %>%
  summarise(
    O3_days  = sum(O3_valid,  na.rm = TRUE),
    NO2_days = sum(NO2_valid, na.rm = TRUE),
    .groups = "drop"
  )

# o3 & no2 coverage days >= 250(year)
coverage_days <- coverage_days %>%
  mutate(
    O3_full  = O3_days  >= 250,
    NO2_full = NO2_days >= 250
  )

state_full_years <- coverage_days %>%
  group_by(state) %>%
  summarise(
    O3_years  = sum(O3_full),
    NO2_years = sum(NO2_full),
    .groups = "drop"
  )

# years of enough coverage days >= 10
good_states <- state_full_years %>%
  filter(O3_years >= 10, NO2_years >= 10) %>%
  pull(state)

df_clean <- df %>%
  filter(state %in% good_states)

df_clean <- df_clean %>%
  filter(year != 2023) # lack of enough observations

df_clean <- df_clean %>%
  mutate(
    month_num = lubridate::month(date),   # 先拿到 1–12 的数字
    month = factor(month_num,
                   levels = 1:12,
                   labels = month.abb)    # 永远是 Jan–Dec
  )
```

```{r}
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)

cols <- c(
  "CO"  = "#E64B35FF",
  "NO2" = "#4DBBD5FF",
  "O3"  = "#00A087FF",
  "SO2" = "#3C5488FF"
)

# ---- 1. 年度平均 AQI（和你最早那张 Yearly Trend 一样）----
yearly_aqi <- df_clean %>%
  group_by(year) %>%
  summarise(
    o3_aqi  = mean(o3_aqi,  na.rm = TRUE),
    co_aqi  = mean(co_aqi,  na.rm = TRUE),
    so2_aqi = mean(so2_aqi, na.rm = TRUE),
    no2_aqi = mean(no2_aqi, na.rm = TRUE),
    .groups = "drop"
  ) %>%
  pivot_longer(
    cols      = c(o3_aqi, co_aqi, so2_aqi, no2_aqi),
    names_to  = "pollutant",
    values_to = "aqi"
  ) %>%
  mutate(
    pollutant = recode(pollutant,
                       o3_aqi  = "O3",
                       co_aqi  = "CO",
                       so2_aqi = "SO2",
                       no2_aqi = "NO2")
  )

# ---- 2. 月度平均 AQI：重新从 date 计算 month = 1–12，保证干净 ----
monthly_aqi <- df_clean %>%
  mutate(mon = month(as.Date(date))) %>%    # 1,2,...,12
  group_by(mon) %>%
  summarise(
    o3_aqi  = mean(o3_aqi,  na.rm = TRUE),
    co_aqi  = mean(co_aqi,  na.rm = TRUE),
    so2_aqi = mean(so2_aqi, na.rm = TRUE),
    no2_aqi = mean(no2_aqi, na.rm = TRUE),
    .groups = "drop"
  ) %>%
  pivot_longer(
    cols      = c(o3_aqi, co_aqi, so2_aqi, no2_aqi),
    names_to  = "pollutant",
    values_to = "aqi"
  ) %>%
  mutate(
    pollutant = recode(pollutant,
                       o3_aqi  = "O3",
                       co_aqi  = "CO",
                       so2_aqi = "SO2",
                       no2_aqi = "NO2")
  )

# ---- 3. 加 panel 标记，并把 x 都做成 factor（同一类型，顺序可控）----
yearly_long <- yearly_aqi %>%
  transmute(
    panel     = "Yearly trend (2000–2022)",
    x         = factor(year),      # 年份离散轴
    aqi       = aqi,
    pollutant = pollutant
  )

monthly_long <- monthly_aqi %>%
  transmute(
    panel     = "Seasonal pattern (monthly)",
    x         = factor(mon, levels = 1:12,
                       labels = c("Jan","Feb","Mar","Apr","May","Jun",
                                  "Jul","Aug","Sep","Oct","Nov","Dec")),
    aqi       = aqi,
    pollutant = pollutant
  )

temp_all <- bind_rows(yearly_long, monthly_long)

ggplot(temp_all, aes(x = x, y = aqi, color = pollutant, group = pollutant)) +
  geom_line(linewidth = 1) +
  geom_point(size = 1.6) +
  scale_color_manual(values = cols, name = "Pollutant") +
  facet_wrap(~ panel, nrow = 1, scales = "free_x") +
  scale_x_discrete(
    breaks = function(x) {
      if (all(x %in% c("Jan","Feb","Mar","Apr","May","Jun",
                       "Jul","Aug","Sep","Oct","Nov","Dec"))) {
        return(c("Jan","Apr","Jul","Oct"))
      } else {
        return(c("2000","2005","2010","2015","2020"))
      }
    }
  ) +
  labs(
    x     = NULL,
    y     = "Average AQI"
  ) +
  theme_minimal(base_size = 12) +
  theme(
    strip.background = element_blank(),
    strip.text       = element_text(size = 12, face = "bold"),
    legend.position  = "right",
    panel.grid.minor = element_blank()
  )

```
::: smaller
CO, NO₂ and SO₂ show clear long-term declines since 2000, while O₃ stays relatively flat with noticeable spikes in some years.
:::
# Seasonal Pattern

```{r}
library(dplyr)
library(ggplot2)

monthly_o3 <- df_clean %>%
  group_by(year, month) %>%
  summarise(o3 = mean(o3_aqi, na.rm = TRUE), .groups = "drop")

heat_o3 <- ggplot(monthly_o3, aes(x = month, y = year, fill = o3)) +
  geom_tile() +
  scale_fill_viridis_c(option = "C") +
  labs(
    title = "Seasonal Heatmap of O3 AQI (2000–2023)",
    x = "Month",
    y = "Year",
    fill = "O3 AQI"
  ) +
  theme_minimal()

monthly_no2 <- df_clean %>%
  group_by(year, month) %>%
  summarise(no2 = mean(no2_aqi, na.rm = TRUE), .groups = "drop")

heat_no2 <- ggplot(monthly_no2, aes(x = month, y = year, fill = no2)) +
  geom_tile() +
  scale_fill_viridis_c(option = "C") +
  labs(
    title = "Seasonal Heatmap of NO2 AQI (2000–2023)",
    x = "Month",
    y = "Year",
    fill = "NO2 AQI"
  ) +
  theme_minimal()

monthly_co <- df_clean %>%
  group_by(year, month) %>%
  summarise(co = mean(co_aqi, na.rm = TRUE), .groups = "drop")

heat_co <- ggplot(monthly_co, aes(x = month, y = year, fill = co)) +
  geom_tile() +
  scale_fill_viridis_c(option = "C") +
  labs(
    title = "Seasonal Heatmap of CO AQI (2000–2023)",
    x = "Month",
    y = "Year",
    fill = "CO AQI"
  ) +
  theme_minimal()

monthly_so2 <- df_clean %>%
  group_by(year, month) %>%
  summarise(so2 = mean(so2_aqi, na.rm = TRUE), .groups = "drop")

heat_so2 <- ggplot(monthly_so2, aes(x = month, y = year, fill = so2)) +
  geom_tile() +
  scale_fill_viridis_c(option = "C") +
  labs(
    title = "Seasonal Heatmap of SO2 AQI (2000–2023)",
    x = "Month",
    y = "Year",
    fill = "SO2 AQI"
  ) +
  theme_minimal()

(heat_o3 | heat_co) /
  (heat_so2 | heat_no2)
```

::: smaller
Most pollutants (NO₂, SO₂, CO) show clear long-term declines, while O₃ remains stable with strong, recurring summer peaks. This strong summer seasonality helps explain why O₃ remains challenging to control.
:::
# Section B. Multi-Pollutant Relationships

# Correlation Among Pollutants

```{r}
library(dplyr)
library(tidyr)
library(ggplot2)

var_order <- c("o3_aqi", "co_aqi", "no2_aqi", "so2_aqi")

corr_vars <- df_clean %>%
  select(all_of(var_order))

corr_mat <- cor(corr_vars,
                use = "pairwise.complete.obs",
                method = "spearman")

corr_df <- as.data.frame(corr_mat) %>%
  tibble::rownames_to_column("var1") %>%
  pivot_longer(-var1, names_to = "var2", values_to = "corr") %>%
  mutate(
    var1 = factor(var1, levels = var_order),
    var2 = factor(var2, levels = var_order)
  )

ggplot(corr_df, aes(x = var1, y = var2, fill = corr)) +
  geom_tile(color = "white") +
  scale_fill_gradient2(
    limits = c(-1, 1),
    low = "brown",
    mid = "white",
    high = "blue",
    midpoint = 0
  ) +
  geom_text(aes(label = sprintf("%.2f", corr)), size = 4) +
  labs(
    title = "Spearman Correlation among Pollutants (Using AQI)",
    x = "", y = "", fill = "ρ"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    axis.text.x = element_text(angle = 30, hjust = 1),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank()
  )

```
::: smaller
-   Pollutants do not vary independently
:::
# PCA
::: center
```{r}
library(FactoMineR)
library(factoextra)

state_pollutants_AQI <- df_clean %>%
  group_by(state) %>%
  summarise(
    o3_aqi = mean(o3_aqi, na.rm = TRUE),
    no2_aqi = mean(no2_aqi, na.rm = TRUE),
    so2_aqi = mean(so2_aqi, na.rm = TRUE),
    co_aqi = mean(co_aqi, na.rm = TRUE)
  )

pca_data <- state_pollutants_AQI %>%
  select(o3_aqi, no2_aqi, so2_aqi, co_aqi)

rownames(pca_data) <- state_pollutants_AQI$state

pca <- PCA(pca_data, graph = FALSE)

fviz_pca_biplot(
  pca,
  label = "var",
  repel = TRUE,
  arrowsize = 1.5
) +
  ggrepel::geom_text_repel(
    aes(x = Dim.1, y = Dim.2, label = rownames(pca_data)),
    data = as.data.frame(pca$ind$coord),
    size = 3
  )
```
:::
::: smaller
Dim1 mainly loads on CO, NO₂, SO₂ → traditional emission-driven pollution.

Dim2 is dominated by O₃, forming its own dimension.

States in the Southwest and Southeast lean more toward the O₃ direction, while industrial states lean toward NO₂/SO₂.
:::
# PCA

::: large
```{r}
library(dplyr)
library(FactoMineR)
library(factoextra)
library(usdata)

state_pollutants_AQI <- df_clean %>%
  group_by(state) %>%
  summarise(
    o3_aqi = mean(o3_aqi, na.rm = TRUE),
    no2_aqi = mean(no2_aqi, na.rm = TRUE),
    so2_aqi = mean(so2_aqi, na.rm = TRUE),
    co_aqi = mean(co_aqi, na.rm = TRUE)
  )

# PCA input using AQI (recommended)
pca_data <- state_pollutants_AQI %>%
  select(o3_aqi, no2_aqi, so2_aqi, co_aqi)

state_pollutants_AQI$abbr <- state2abbr(state_pollutants_AQI$state)

row.names(pca_data) <- state_pollutants_AQI$abbr

# Run PCA (FactoMineR)
pca <- prcomp(pca_data, scale. = TRUE)
pca_scores <- as.data.frame(pca$x) %>%
  mutate(state = state_pollutants_AQI$state)

library(usmap)
library(ggplot2)

pca1 <- plot_usmap(
  data = pca_scores,
  values = "PC1",
  regions = "states"
) +
  scale_fill_gradient2(
    low = "blue",
    mid = "white",
    high = "red",
    midpoint = 0,
    name = "PC1 Score"
  ) +
  labs(
    title = "PC1: Overall Pollution Burden (AQI-based)",
    subtitle = "Higher = more polluted overall | Lower = cleaner"
  ) +
  theme(legend.position = "right")

pca2 <- plot_usmap(
  data = pca_scores,
  values = "PC2",
  regions = "states"
) +
  scale_fill_gradient2(
    low = "blue",
    mid = "white",
    high = "red",
    midpoint = 0,
    name = "PC2 Score"
  ) +
  labs(
    title = "PC2: Pollution Composition (Ozone vs NO2/CO/SO2)",
    subtitle = "High = Ozone-dominated | Low = Combustion-pollution dominated"
  ) +
  theme(legend.position = "right")

(pca1 | pca2) 
```
:::

::: smaller
-   PC1: Identifies which states are the most polluted overall.

-   PC2: Identifies what type of pollution dominates each state.
:::

# STL Decomposition - O₃

::: smaller
O₃ shows strong seasonality and weak correlation with other pollutants
:::

::: large
```{r}
library(dplyr)
library(ggplot2)

o3_ts <- df_clean %>%
  group_by(date) %>%
  summarise(o3 = mean(o3_aqi, na.rm = TRUE))

o3_ts <- ts(o3_ts$o3, frequency = 365)

o3_stl <- stl(o3_ts, s.window = "periodic")
plot(o3_stl)
```
:::

::: smaller
-   Seasonal cycle is very strong and consistent every year

-   Trend shows early decline but a plateau in recent years

-   Remainder show short-term variability (weather, fires, local events)
:::

# Section C. Geographic Disparities

# State-Level Pollution Patterns (2010–2023)

```{r}
library(usmap)
# Summarized by state and year(recent 10 years)

state_pollutants <- df_clean %>%
  filter(year >= 2010) %>%   
  group_by(state) %>%
  summarise(
    o3_aqi = mean(o3_aqi, na.rm = TRUE),
    no2_aqi = mean(no2_aqi, na.rm = TRUE),
    so2_aqi = mean(so2_aqi, na.rm = TRUE),
    co_aqi = mean(co_aqi, na.rm = TRUE)
  )

# Choropleth map
us_o3 <- plot_usmap(data = state_pollutants,
           regions = "states",
           values = "o3_aqi") +
  scale_fill_continuous(
    name = "Avg O3 (2010–2023)",
    label = scales::label_number(accuracy = 0.001)
  ) +
  labs(title = "Average O3 Levels by State (2010–2023)") +
  theme(legend.position = "right")

us_co <- plot_usmap(data = state_pollutants,
           regions = "states",
           values = "co_aqi") +
  scale_fill_continuous(
    name = "Avg O3 (2010–2023)",
    label = scales::label_number(accuracy = 0.001)
  ) +
  labs(title = "Average CO Levels by State (2010–2023)") +
  theme(legend.position = "right")

us_so2 <- plot_usmap(data = state_pollutants,
           regions = "states",
           values = "so2_aqi") +
  scale_fill_continuous(
    name = "Avg O3 (2010–2023)",
    label = scales::label_number(accuracy = 0.001)
  ) +
  labs(title = "Average SO2 Levels by State (2010–2023)") +
  theme(legend.position = "right")

us_no2 <- plot_usmap(data = state_pollutants,
           regions = "states",
           values = "no2_aqi") +
  scale_fill_continuous(
    name = "Avg O3 (2010–2023)",
    label = scales::label_number(accuracy = 0.001)
  ) +
  labs(title = "Average NO2 Levels by State (2010–2023)") +
  theme(legend.position = "right")
# gray means no data

(us_o3 | us_co) /
  (us_so2 | us_no2)
```

# State-Level Pollution Changes Over Time
::: {.stretch}
```{r}
library(dplyr)
library(tidyr)
library(plotly)

state_lookup <- data.frame(
  state = state.name,
  abbr  = state.abb,
  stringsAsFactors = FALSE
) |>
  bind_rows(data.frame(state = "District Of Columbia", abbr = "DC"))

state_year_long <- df_clean %>%
  group_by(state, year) %>%
  summarise(
    o3  = mean(o3_mean,  na.rm = TRUE),
    no2 = mean(no2_mean, na.rm = TRUE),
    so2 = mean(so2_mean, na.rm = TRUE),
    co  = mean(co_mean,  na.rm = TRUE),
    .groups = "drop"
  ) %>%
  pivot_longer(
    cols = c(o3, no2, so2, co),
    names_to = "pollutant",
    values_to = "value"
  ) %>%
  left_join(state_lookup, by = "state")

all_years <- sort(unique(state_year_long$year))
all_pollutants <- c("no2", "o3", "so2", "co")

complete_grid <- expand.grid(
  year = all_years,
  state = state_lookup$state,
  pollutant = all_pollutants,
  stringsAsFactors = FALSE
) %>%
  left_join(state_lookup, by = "state")

state_year_complete <- complete_grid %>%
  left_join(
    state_year_long %>% select(year, state, pollutant, value), 
    by = c("year", "state", "pollutant")
  )

pollutant_ranges <- state_year_complete %>%
  group_by(pollutant) %>%
  summarise(
    min_val = min(value, na.rm = TRUE),
    max_val = max(value, na.rm = TRUE),
    .groups = "drop"
  )

data_o3 <- state_year_complete %>% 
  filter(pollutant == "o3") %>%
  arrange(year, abbr)

fig_o3 <- plot_ly(
  data = data_o3,
  type = "choropleth",
  locations = ~abbr,
  locationmode = "USA-states",
  z = ~value,
  frame = ~year,
  text = ~paste0(
    state, "<br>",
    "Year: ", year, "<br>",
    "O\u2083: ", ifelse(is.na(value), "No data", round(value, 3))
  ),
  hoverinfo = "text",
  colorscale = "Reds",
  showscale = TRUE,
  zmin = pollutant_ranges$min_val[pollutant_ranges$pollutant == "o3"],
  zmax = pollutant_ranges$max_val[pollutant_ranges$pollutant == "o3"]
) %>%
  layout(
    title = "Annual O\u2083 Pollution Levels by State",
    geo = list(
      scope = "usa",
      projection = list(type = "albers usa"),
      showlakes = TRUE,
      lakecolor = toRGB("white")
    )
  )

fig_o3
```
:::
::: smaller
-   Early years show inconsistent state monitoring coverage

-   Spatial analysis therefore focuses on 2010–2022 for reliable comparisons
:::



# Regional Pollution Comparison (2010–2023)

::: large
```{r}
region_lookup <- data.frame(
  state  = state.name,
  region = state.region,
  stringsAsFactors = FALSE
) |>
  dplyr::bind_rows(
    tibble::tibble(
      state  = "District Of Columbia",
      region = "South"   
    )
  )

state_pollutants <- state_pollutants |>
  dplyr::left_join(region_lookup, by = "state")

library(dplyr)
library(tidyr)

state_pollutants_long <- state_pollutants %>%
  pivot_longer(
    cols = c(o3_aqi, co_aqi, so2_aqi, no2_aqi),
    names_to = "pollutant",
    values_to = "aqi_value"
  ) %>%
  mutate(
    pollutant = recode(
      pollutant,
      "o3_aqi"  = "O3",
      "co_aqi"  = "CO",
      "so2_aqi" = "SO2",
      "no2_aqi" = "NO2"
    )
  )

library(ggplot2)

ggplot(state_pollutants_long, aes(x = region, y = aqi_value, fill = region)) +
  geom_boxplot() +
  facet_wrap(~ pollutant, scales = "free_y", ncol = 2) +
  labs(
    x = "Region",
    y = "Mean AQI"
  ) +
  theme_minimal() +
  theme(
    legend.position = "none",
    plot.title = element_text(size = 18)
  )

```
:::

::: smaller
-   CO: West has the highest CO AQI — influenced by wildfires + urban traffic.

-   NO₂: Northeast & West show higher NO₂ levels — dense traffic corridors.

-   SO₂: North Central region stands out — older industrial & energy facilities.

-   O₃: West has the highest O₃ — driven by strong sunlight and elevation.
:::

# AI-Assisted Workflow Reflection

::: smaller
-   How I Used AI
    -   Described the types of visual patterns I wanted to explore
    -   Asked for suggestions on plot types (animation, PCA, seasonality, etc.)
    -   Used AI-generated R code as a starting point
    -   Improved slide layout, narrative, and storytelling with AI guidance
-   Benefits
    -   Accelerated exploratory data analysis
    -   Suggested visualization ideas I hadn’t considered
    -   Improved the clarity and appearance of plots
    -   Helped maintain consistent storytelling across slides
:::


# AI-Assisted Workflow Reflection

::: smaller
-   Limitations
    -   Sometimes suggested variables not in the dataset\
    -   Produced repetitive or overly long code that required rewriting\
    -   Needed human verification for statistical interpretation (PCA meaning, correlations, etc.)
    -   Lacked full context awareness; required manual refinement for reproducibility
-   Ensuring Reproducibility
    -   Rewrote and cleaned AI-generated code to ensure correctness and consistency\
    -   Verified statistical interpretations independently rather than relying on AI output\
    -   Organized all final code, data transformations, and figures into a fully reproducible workflow\
    -   Ensured all scripts are executable end-to-end without AI intervention\
:::

# Final Product Demonstration

# Conclusions

::: smaller
-   Key findings
    -   U.S. air quality has improved since 2000, with NO₂, SO₂, and CO showing strong long-term declines.
    -   O₃ remains the main challenge: trend is flat and summer peaks persist.
    -   Clear regional differences: Western states show higher O₃; combustion pollutants decreased most in the Northeast & Midwest.
    -   Pollutants behave differently: NO₂/SO₂/CO decline together, while O₃ follows seasonal photochemical patterns.
:::

# Conclusions
::: smaller
-   Limitations
    -   Uneven monitoring coverage may bias early-year trends.
    -   AQI averages may smooth out short-term extreme events (wildfire spikes).
    -   Analysis is descriptive, not causal.
-   Next Steps
    -   Add meteorological factors (temperature, sunlight) to explain O₃ patterns.
    -   Incorporate wildfire indicators to capture recent extreme events.
    -   Extend to city- or county-level data for finer spatial detail.
:::

------------------------------------------------------------------------

::: {.center .vcenter}
**Thank you!**
:::